# 第5章：API・インターフェース定義書ガイド
**〜フロントエンドとバックエンドの「共通言語」を決める〜**

## 1. はじめに：結合時の「トラブル」を避けるために
開発が進み、いざフロントエンド（画面）とバックエンド（ロジック）を繋ぎこむフェーズ。「想定したデータが返ってこない」「日付のフォーマットが違う」といった認識齟齬で、修正コストが発生することは珍しくありません。

第4章で「内部のルール（ドメイン）」は決まりました。
この章では、外部（画面）と内部（ドメイン）がどう会話するか、すなわち**APIのインターフェース**を定義します。

## 2. 何を決めるのか

### APIのエンドポイントと型定義
「どのURLを叩けば、どんなJSONが返ってくるか」を合意します。
実装前にここが決まっていれば、フロントエンド担当者はバックエンドの完成を待たずに、モック（ダミーデータ）を使って開発を進められます。

## 3. 記述方法の推奨

### ① ドキュメントベース（簡易版）
Markdownに表形式で書きます。小規模チームならこれで十分です。

> **GET /api/tasks**
> *   概要: タスク一覧の取得
> *   Response Example:
> ```json
> [
>   { "id": "123", "title": "牛乳を買う", "status": "TODO" },
>   { "id": "124", "title": "本を読む", "status": "DONE" }
> ]
> ```

### ② Swagger / OpenAPI（推奨版）
可能であれば、`swagger.yaml` などの定義ファイルを書きましょう。
ここから自動的にTypeScriptの型定義(`type Task = ...`)を生成できれば、型安全な開発が可能になります。

## 4. 完了定義 (Definition of Done)
次の章に進む前に、以下のチェックをクリアしてください。

*   [ ] フロントエンドが必要とするデータが、レスポンスに含まれているか？
*   [ ] エラー時（400, 404, 500）のレスポンス形式は決まっているか？
*   [ ] **【レビュー】** フロント担当とバック担当が同席し、「このJSONで画面は描画できる？」という確認ができていること。
